function activateStarBookmarks(){"true"==isSearchUserLoggedIn&&$CQ(".js-st-toggle-star-search").find("use").attr("xlink:href","#icon-bookmark-active")}function inactivateStarBookmarks(){$CQ(".js-st-toggle-star-search").find("use").attr("xlink:href","#icon-bookmark")}var stopEventBookmarksTwice=0;
function bindBookMarksAction(){function a(){$(".st-popover").each(function(){$(this).removeClass("st-popover--active")});$(".st-table--sample-buy").removeAttr("style")}getSearchBookmarks();if(stopEventBookmarksTwice)return!1;$(document).on("click",".js-st-popover-search-bookmarks",function(b){stopEventBookmarksTwice=1;b.preventDefault();var c=$(this);b=c.closest(".st-popover");b.closest(".js-st-popover-close");if(b.hasClass("st-popover--active"))b.removeClass("st-popover--active");else{if(1!==c.data("show-results")&&
c.parents().hasClass("st-search-results-nav")){var e=b.children(".st-popover__wrapper");e.find(".st-popover__title").text(c.data("login-message-header"));e.find(".st-popover__content").html('\x3cp class\x3d"st-font-size--xs"\x3e'+c.data("login-message-content")+"\x3c/div\x3e");e.find(".st-popover__footer").hide()}1==c.data("show-results")&&c.hasClass("js-st-toggle-star")||($(".st-popover").removeClass("st-popover--active"),$(".st-table--search").removeClass("js-st-table--zindex"),b.closest(".st-table--search").addClass("js-st-table--zindex"),
b.addClass("st-popover--active"))}e=$(this).parent().find(".st-popover__wrapper");var d=parseFloat(e.css("padding-top")),f=parseFloat(e.css("padding-bottom")),g=parseFloat(e.css("border-top-width")),h=parseFloat(e.css("border-bottom-width"));d+=f;g+=h;h=$("\x3e *",e);var k=d+g;h.each(function(){if("absolute"!=$(this).css("position")){var l=$(this).outerHeight(!0);k+=l}});e.css("height",k);c=c.offset().left;"fixed"==e.css("position")&&(e.css("top",b.offset().top-$(window).scrollTop()+20),e.css("left",
c));180>=parseInt(window.innerWidth)-c&&(e.css("left","auto"),e.css("right",0),0<e.children(".arrow").length&&640<parseInt(window.innerWidth)&&e.addClass("st-popover__wrapper--right"));scrollTop=$(window).scrollTop()});$(window).on("resize",function(){1024>=parseInt(window.innerWidth)&&$(".js-st-popover-search-bookmarks").each(function(b,c){b=$(this);c=b.offset().left;180>=parseInt(window.innerWidth)-c&&(b.css("left","auto"),b.css("right",0))})});$(window).scroll(function(){1024>=parseInt(window.innerWidth)&&
a()});$(".st-table").scroll(function(){1024>=parseInt(window.innerWidth)&&a()});$(".js-st-popover-close").on("click",function(b){a()});$("body").on("click",function(b){a()});$(".st-popover__wrapper").on("click",function(b){b.stopPropagation()})}var bookmarksController=angular.module("bookmarksController",["ngSanitize"]);
bookmarksController.controller("BookmarksCtrl",["$scope","$http","DeleteBookmark","AddBookmark",function(a,b,c,e){a.bookmarks=[];a.message=null;a.getBookmarks=function(){var d="/bin/st/search-cx/bookmarks?rand\x3d"+(new Date).getTime();b({method:"GET",url:d,async:!0}).success(function(f){a.bookmarks=f})};a.updateMessage=function(){a.message&&a.$apply(function(){a.message=null})};a.deleteBookmark=function(d,f){c.getData(d,f).then(function(g){a.bookmarks=g;$("#divbookmarks .st-message-box--error").removeClass("active")})};
a.addBookmark=function(){activateStarBookmarks();var d=document.getElementById("searchKey").value;if(null==d||""===d)a.message="Search value is empty";else{var f=document.getElementById("searchCategories").value;e.getData("q\x3d"+d+"\x26c\x3d"+f).then(function(g){var h=g.indexOf("limit reached"),k=g.indexOf("already exists");0<h||0<k?(a.message=g,$("#divbookmarks .st-message-box--error").addClass("active"),setTimeout(function(){$("#divbookmarks .st-message-box--error").removeClass("active")},2500)):
(a.message=null,a.bookmarks=g)})}};a.searchBookmarkResults=function(d){$("#bookmark").modal("hide");closePopoverSearch();var f=d.indexOf("q\x3d")+2,g=d.indexOf("\x26c\x3d");f=d.substring(f,g);g=d.indexOf("\x26c\x3d")+3;d=d.substring(g);$("#searchCategories").val(d);$("#searchKey").val(f);analyticsBookmarkHistoryClicked=1;changeTab(f,d,1,!0)}}]);var bookmarksControllerMobile=angular.module("bookmarksControllerMobile",["ngSanitize"]);
bookmarksControllerMobile.controller("BookmarksCtrlMobile",["$scope","$http","DeleteBookmark","AddBookmark",function(a,b,c,e){a.bookmarks=[];a.message=null;a.getBookmarks=function(){var d="/bin/st/search-cx/bookmarks?rand\x3d"+(new Date).getTime();b({method:"GET",url:d,async:!0}).success(function(f){a.bookmarks=f})};a.updateMessage=function(){a.message&&a.$apply(function(){a.message=null})};a.deleteBookmark=function(d,f){c.getData(d,f).then(function(g){a.bookmarks=g;$("#divbookmarksMobile .st-message-box--error").removeClass("active")})};
a.addBookmark=function(){activateStarBookmarks();var d=document.getElementById("searchKey").value;if(null==d||""===d)a.message="Search value is empty";else{var f=document.getElementById("searchCategories").value;e.getData("q\x3d"+d+"\x26c\x3d"+f).then(function(g){var h=g.indexOf("limit reached"),k=g.indexOf("already exists");0<h||0<k?(a.message=g,$("#divbookmarksMobile .st-message-box--error").addClass("active"),setTimeout(function(){$("#divbookmarksMobile .st-message-box--error").removeClass("active")},
2500)):(a.message=null,a.bookmarks=g)})}};a.searchBookmarkResults=function(d){$("#bookmark").modal("hide");var f=d.indexOf("q\x3d")+2,g=d.indexOf("\x26c\x3d");f=d.substring(f,g);g=d.indexOf("\x26c\x3d")+3;d=d.substring(g);$("#searchCategories").val(d);$("#searchKey").val(f);analyticsBookmarkHistoryClicked=1;changeTab(f,d,1,!0)}}]);
function handleBookmarksState(){function a(){var b=document.getElementById("divbookmarks");null!==b?(b=angular.element(b),b.scope()?(b=b.injector())?(b.get("$timeout"),b=document.getElementById("bookmarks-container"),null!==b?(b.classList.remove("bookmarks-disabled"),b.classList.add("bookmarks-enabled")):setTimeout(a,500)):setTimeout(a,500):setTimeout(a,500)):setTimeout(a,500)}angular.element(document).ready(function(){a()})}handleBookmarksState();"use strict";
var bookmarksApp=angular.module("bookmarksApp",["bookmarksController","bookmarksServices"]);bookmarksApp.filter("getBookmarkName",["$sce",function(a){return function(b){var c=b.indexOf("q\x3d")+2,e=b.indexOf("\x26");c=b.substring(c,e);e=b.indexOf("c\x3d")+2;b=b.substring(e,b.length);"keywords"===b&&(b="all site");return a.trustAsHtml(c.replace(/\\"/g,'"')+'\x3cspan class\x3d"st-text-color--grey"\x3e\x26nbsp;['+b+"]\x3c/span\x3e")}}]);
var bookmarksAppMobile=angular.module("bookmarksAppMobile",["bookmarksControllerMobile","bookmarksServicesMobile"]);bookmarksAppMobile.filter("getBookmarkName",["$sce",function(a){return function(b){var c=b.indexOf("q\x3d")+2,e=b.indexOf("\x26");c=b.substring(c,e);e=b.indexOf("c\x3d")+2;b=b.substring(e,b.length);"keywords"===b&&(b="all site");return a.trustAsHtml(c.replace(/\\"/g,'"')+'\x3cspan class\x3d"st-text-color--grey"\x3e\x26nbsp;['+b+"]\x3c/span\x3e")}}]);
window.addEventListener("load",function(a){angular.bootstrap(document.getElementById("divbookmarks"),["bookmarksApp"]);angular.bootstrap(document.getElementById("divbookmarksMobile"),["bookmarksAppMobile"])});var bookmarksServices=angular.module("bookmarksServices",["ngResource"]);
bookmarksServices.factory("DeleteBookmark",["$http","$q",function(a,b){return{getData:function(c,e){var d=b.defer(),f=STUtils.generateGuid();c=encodeURIComponent(c);var g=e.indexOf("q\x3d")+2,h=e.indexOf("\x26");g=e.substring(g,h);h=e.indexOf("c\x3d")+2;e=e.substring(h,e.length);"keywords"===e&&(e="all site");a({method:"POST",url:"/bin/st/search-cx/bookmarks",async:!0,data:{a:"del",key:c,c:e,q:g,rand:(new Date).getTime(),sessionId:f},headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0","Content-Type":"application/x-www-form-urlencoded;charset\x3dUTF-8"}}).success(function(k){d.resolve(k)});
return d.promise}}}]);bookmarksServices.factory("AddBookmark",["$http","$q",function(a,b){return{getData:function(c){var e=b.defer(),d=STUtils.generateGuid();c=extractParametersFromUrl(c);a({method:"POST",url:"/bin/st/search-cx/bookmarks",async:!0,data:{a:"add",c:c.c?c.c:"",q:c.q?c.q:"",rand:(new Date).getTime(),sessionId:d},headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0","Content-Type":"application/x-www-form-urlencoded;charset\x3dUTF-8"}}).success(function(f){e.resolve(f)});return e.promise}}}]);
var bookmarksServicesMobile=angular.module("bookmarksServicesMobile",["ngResource"]);
bookmarksServicesMobile.factory("DeleteBookmark",["$http","$q",function(a,b){return{getData:function(c,e){var d=b.defer(),f=STUtils.generateGuid(),g=encodeURIComponent(c),h=e.indexOf("q\x3d")+2,k=e.indexOf("\x26");h=e.substring(h,k);c=c.indexOf("c\x3d")+2;e=e.substring(c,e.length);"keywords"===e&&(e="all site");a({method:"POST",url:"/bin/st/search-cx/bookmarks",async:!0,data:{key:g,a:"del",c:e,q:h,rand:(new Date).getTime(),sessionId:f},headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0",
"Content-Type":"application/x-www-form-urlencoded;charset\x3dUTF-8"}}).success(function(l){d.resolve(l)});return d.promise}}}]);
bookmarksServicesMobile.factory("AddBookmark",["$http","$q",function(a,b){return{getData:function(c){var e=b.defer(),d=STUtils.generateGuid();c=extractParametersFromUrl(c);a({method:"POST",url:"/bin/st/search-cx/bookmarks",async:!0,data:{a:"add",c:c.c?c.c:"",q:c.q?c.q:"",rand:(new Date).getTime(),sessionId:d},headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0","Content-Type":"application/x-www-form-urlencoded;charset\x3dUTF-8"}}).success(function(f){e.resolve(f)});return e.promise}}}]);
function extractParametersFromUrl(a){a=a.split("\x26");for(var b={},c=0;c<a.length;c++){var e=a[c].split("\x3d");if(2===e.length){var d=e[0],f=e[1];e=encodeURIComponent(d);f=encodeURIComponent(f);if("q"===d||"c"===d)b[e]=f}}return b}function sliceResultsBookmarks(a,b){a.length>b&&(a=a.slice(0,b));return a}var bookmarksControllerTop=angular.module("bookmarksControllerTop",["ngSanitize"]);
bookmarksControllerTop.controller("BookmarksCtrlTop",["$scope","$http","DeleteBookmark","AddBookmark",function(a,b,c,e){a.bookmarks=[];a.message=null;a.getBookmarks=function(){var d="/bin/st/search-cx/bookmarks?rand\x3d"+(new Date).getTime();b({method:"GET",url:d,async:!0}).success(function(f){a.bookmarks=sliceResultsBookmarks(f,3)})};a.updateMessage=function(){a.message&&a.$apply(function(){a.message=null})};a.deleteBookmark=function(d,f){c.getData(d,f).then(function(g){a.bookmarks=g;$("#divbookmarks .st-message-box--error").removeClass("active")})};
a.addBookmark=function(){var d=document.getElementById("searchKey").value;if(null==d||""===d)a.message="Search value is empty";else{var f=document.getElementById("searchCategories").value;e.getData("q\x3d"+d+"\x26c\x3d"+f).then(function(g){var h=g.indexOf("limit reached"),k=g.indexOf("already exists");0<h||0<k?(a.message=g,$("#divbookmarks .st-message-box--error").addClass("active"),setTimeout(function(){$("#divbookmarks .st-message-box--error").removeClass("active")},2500)):(a.message=null,a.bookmarks=
g)})}};a.searchBookmarkResults=function(d){$("#bookmark").modal("hide");closeSearchWidget();var f=d.indexOf("q\x3d")+2,g=d.indexOf("\x26c\x3d");f=d.substring(f,g);g=d.indexOf("\x26c\x3d")+3;d=d.substring(g);$("#searchCategories").val(d);$("#searchKey").val(f);"undefined"==typeof searchPageId?($(".searchKey_JS").val(f),setCategoryFrom(d),$("#form-search").submit()):(analyticsBookmarkHistoryClicked=1,changeTab(f,d,1,!0))}}]);
var bookmarksControllerTopMobile=angular.module("bookmarksControllerTopMobile",["ngSanitize"]);
bookmarksControllerTopMobile.controller("BookmarksCtrlTopMobile",["$scope","$http","DeleteBookmark","AddBookmark",function(a,b,c,e){a.bookmarks=[];a.message=null;a.getBookmarks=function(){var d="/bin/st/search-cx/bookmarks?rand\x3d"+(new Date).getTime();b({method:"GET",url:d,async:!0}).success(function(f){a.bookmarks=sliceResultsBookmarks(f,3)})};a.updateMessage=function(){a.message&&a.$apply(function(){a.message=null})};a.deleteBookmark=function(d,f){c.getData(d,f).then(function(g){a.bookmarks=g;
$("#divbookmarks .st-message-box--error").removeClass("active")})};a.addBookmark=function(){var d=document.getElementById("searchKey").value;if(null==d||""===d)a.message="Search value is empty";else{var f=document.getElementById("searchCategories").value;e.getData("q\x3d"+d+"\x26c\x3d"+f).then(function(g){var h=g.indexOf("limit reached"),k=g.indexOf("already exists");0<h||0<k?(a.message=g,$("#divbookmarks .st-message-box--error").addClass("active"),setTimeout(function(){$("#divbookmarks .st-message-box--error").removeClass("active")},
2500)):(a.message=null,a.bookmarks=g)})}};a.searchBookmarkResults=function(d){var f=d.indexOf("q\x3d")+2,g=d.indexOf("\x26c\x3d");f=d.substring(f,g);g=d.indexOf("\x26c\x3d")+3;d=d.substring(g);$("#categorySearchWidgetMobile").val(d);$(".searchKey_JS").val(f);$("#form-search-desktop").submit()}}]);"use strict";var bookmarksAppTop=angular.module("bookmarksAppTop",["bookmarksControllerTop","bookmarksServicesTop"]);
bookmarksAppTop.filter("getBookmarkName",["$sce",function(a){return function(b){var c=b.indexOf("q\x3d")+2,e=b.indexOf("\x26");c=b.substring(c,e);e=b.indexOf("c\x3d")+2;b=b.substring(e,b.length);"keywords"===b&&(b="all site");return a.trustAsHtml(c.replace(/\\"/g,'"')+'\x3cspan class\x3d"st-text-color--grey"\x3e\x26nbsp;['+b+"]\x3c/span\x3e")}}]);var bookmarksAppTopMobile=angular.module("bookmarksAppTopMobile",["bookmarksControllerTopMobile","bookmarksServicesTopMobile"]);
bookmarksAppTopMobile.filter("getBookmarkName",["$sce",function(a){return function(b){var c=b.indexOf("q\x3d")+2,e=b.indexOf("\x26");c=b.substring(c,e);e=b.indexOf("c\x3d")+2;b=b.substring(e,b.length);"keywords"===b&&(b="all site");return a.trustAsHtml(c.replace(/\\"/g,'"')+'\x3cspan class\x3d"st-text-color--grey"\x3e\x26nbsp;['+b+"]\x3c/span\x3e")}}]);
angular.element(document).ready(function(){angular.bootstrap(document.getElementById("divbookmarksTop"),["bookmarksAppTop"]);angular.bootstrap(document.getElementById("divbookmarksTopMobile"),["bookmarksAppTopMobile"])});var bookmarksServicesTop=angular.module("bookmarksServicesTop",["ngResource"]);
bookmarksServicesTop.factory("DeleteBookmark",["$http","$q",function(a,b){return{getData:function(c){var e=b.defer(),d=STUtils.generateGuid();c="/bin/st/search-cx/bookmarks";a({method:"POST",url:c,async:!0,headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0"},contentType:"application/json;charset\x3dUTF-8",data:{key:c,a:"del",rand:(new Date).getTime(),sessionId:d}}).success(function(f){e.resolve(f)});return e.promise}}}]);
bookmarksServicesTop.factory("AddBookmark",["$http","$q",function(a,b){return{getData:function(c){var e=b.defer(),d=STUtils.generateGuid();c="/bin/st/search-cx/bookmarks";a({method:"POST",url:c,async:!0,headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0"},contentType:"application/json;charset\x3dUTF-8",data:{key:c,a:"add",rand:(new Date).getTime(),sessionId:d}}).success(function(f){e.resolve(f)});return e.promise}}}]);
var bookmarksServicesTopMobile=angular.module("bookmarksServicesTopMobile",["ngResource"]);
bookmarksServicesTopMobile.factory("DeleteBookmark",["$http","$q",function(a,b){return{getData:function(c){var e=b.defer(),d=STUtils.generateGuid();c="/bin/st/search-cx/bookmarks";a({method:"POST",url:c,async:!0,headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0"},contentType:"application/json;charset\x3dUTF-8",data:{key:c,a:"del",rand:(new Date).getTime(),sessionId:d}}).success(function(f){e.resolve(f)});return e.promise}}}]);
bookmarksServicesTopMobile.factory("AddBookmark",["$http","$q",function(a,b){return{getData:function(c){var e=b.defer(),d=STUtils.generateGuid();c="/bin/st/search-cx/bookmarks";a({method:"POST",url:c,async:!0,headers:{Dispatcher:"no-cache","Cache-Control":"max-age\x3d0"},contentType:"application/json;charset\x3dUTF-8",data:{key:c,a:"add",rand:(new Date).getTime(),sessionId:d}}).success(function(f){e.resolve(f)});return e.promise}}}]);window.BMM=window.BMM||{};
BMM.initBMM=function(){BMM.template=document.querySelector("template#bookmark-item-template");var a=document.querySelector(".st-bmm-container");if(a){var b=a.matches(".st-bmm-anonymous"),c=document.querySelector(".js-st-bookmarks-toggle.show-for-medium-down"),e=a.querySelector(".st-bmm-close-icon");c.addEventListener("click",function(){a.classList.toggle("st-bmm-inactive")});e.addEventListener("click",function(){a.classList.toggle("st-bmm-inactive")});e=function(k){a.contains(k.target)||c.contains(k.target)||
a.classList.add("st-bmm-inactive")};document.addEventListener("click",e);document.addEventListener("scroll",e);if(!b){var d=a.querySelector(".st-bmm-bookmarks-list");b=a.querySelector(".st-bmm-add-bookmark");var f=a.querySelector(".st-bmm-add-bookmark-icon \x3e use"),g=function(k){BMM.currentSearchSaved(k)?f.setAttribute("href","#icon-bookmark-active"):f.setAttribute("href","#icon-bookmark")};BMM.setCurrentSearchSaved=g;var h=function(k){Element.prototype.replaceChildren.apply(d,k.map(BMM.bookmarkElement));
g(k)};e=function(){return BMM.fetchBookmarks().catch(function(){return console.error("failed to fetch bookmarks during mobile menu init")}).then(h)};document.addEventListener("search-done",e);e();b.addEventListener("click",function(){var k=BMM.currentSearch();k&&BMM.addBookmark(k.q,k.t).then(h).catch(function(){console.error("remote call to add bookmark failed")})})}}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",BMM.initBMM):setTimeout(BMM.initBMM,0);
BMM.currentSearch=function(){var a=location.hash;if(!a)return null;a=a.slice(1).split("-").map(function(b){b=b.split("\x3d");return 2!==b.length?null:b}).filter(function(b){return!!b}).reduce(function(b,c){b[c[0]]=c[1];return b},{});return"q"in a&&"t"in a?a:null};BMM.currentSearchSaved=function(a){var b=BMM.currentSearch();return b&&a?a.some(function(c){return c.text===b.q&&c.category===b.t}):!1};window.BMM||(window.BMM={});
BMM.bookmarkElement=function(a){var b=BMM.template.content.cloneNode(!0).children[0];b.dataset.name=a.name;b.dataset.category=a.category;b.dataset.text=a.text;var c=b.querySelector("a"),e=b.querySelector("svg");c.innerText=a.text;var d=document.createElement("span");d.className="st-bmm-item-category st-text-color-grey";c.append(d);d.innerText=" ["+a.category+"]";c.addEventListener("click",BMM.handleBookmarkClick);e.addEventListener("click",BMM.handleDeleteClick);return b};
BMM.handleBookmarkClick=function(a){a.preventDefault();"number"===typeof window.analyticsBookmarkHistoryClicked&&(window.analyticsBookmarkHistoryClicked=1);var b=a.target.closest(".st-bmm-bookmark-item");a=b.dataset.text;var c=b.dataset.category;b=b.closest(".st-bmm-container");b.classList.add("st-bmm-inactive");changeTab(a,c,1,!0);b.querySelector(".st-bmm-add-bookmark-icon \x3e use").setAttribute("href","#icon-bookmark-active")};
BMM.handleDeleteClick=function(a){var b=a.target.closest(".st-bmm-bookmark-item");BMM.deleteBookmark(b.dataset.name,b.dataset.text,b.dataset.category).then(function(){BMM.setCurrentSearchSaved();b.remove()}).catch(function(){return console.error("remote call to delete bookmark failed")})};window.BMM=window.BMM||{};BMM.endpoint=new URL(location.origin);BMM.endpoint.pathname="/bin/st/search-cx/bookmarks";
BMM.fetchBookmarks=function(){var a=Date.now(),b=new URL(BMM.endpoint);b.searchParams.append("rand",a);return fetch(b,{cache:"no-cache",credentials:"include",headers:{Dispatcher:"no-cache","cache-control":"max-age\x3d0"}}).then(function(c){return c.json()}).then(function(c){return c.map(BMM.deserialize)})};BMM.getCsrfToken=function(){var a=new XMLHttpRequest;a.open("GET","/libs/granite/csrf/token.json",!1);a.send(null);if(200===a.status)return JSON.parse(a.responseText).token};
BMM.addBookmark=function(a,b){var c=BMM.getCsrfToken(),e=Date.now(),d=STUtils.generateGuid(),f=new URL(BMM.endpoint);return fetch(f,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{Dispatcher:"no-cache","cache-control":"max-age\x3d0","Content-Type":"application/x-www-form-urlencoded;charset\x3dUTF-8","CSRF-Token":c},body:JSON.stringify({rand:e,sessionId:d,a:"add",q:a,c:b})}).then(function(g){return g.json()}).then(function(g){return g.map(BMM.deserialize)})};
BMM.deleteBookmark=function(a,b,c){var e=BMM.getCsrfToken(),d=Date.now(),f=STUtils.generateGuid(),g=new URL(BMM.endpoint);return fetch(g,{method:"POST",cache:"no-cache",headers:{Dispatcher:"no-cache","cache-control":"max-age\x3d0","Content-Type":"application/x-www-form-urlencoded;charset\x3dUTF-8","CSRF-Token":e},body:JSON.stringify({rand:d,sessionId:f,a:"del",q:b,c:c,key:a}),credentials:"same-origin"}).then(function(h){return h.json()}).then(function(h){return h.map(BMM.deserialize)})};
BMM.deserialize=function(a){var b=new URLSearchParams(a.value);return{text:b.get("q"),category:b.get("c"),name:a.name}};