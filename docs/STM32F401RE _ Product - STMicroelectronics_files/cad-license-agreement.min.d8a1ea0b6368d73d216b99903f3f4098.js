var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e};$jscomp.createTemplateTagFirstArgWithRaw=function(e,h){e.raw=h;return e};$jscomp.arrayIteratorImpl=function(e){var h=0;return function(){return h<e.length?{done:!1,value:e[h++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.makeIterator=function(e){var h="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return h?h.call(e):$jscomp.arrayIterator(e)};
(function(){function e(){null==window.searchUserEmail?window.addEventListener("email-initialized",function(){initCadLicenseAgreement()}):initCadLicenseAgreement()}/complete|interactive|loaded/.test(document.readyState)?(console.log("Loaded"),e()):(console.log("set DOMContentLoaded event"),document.addEventListener("DOMContentLoaded",function(){e()}))})();
function initCadLicenseAgreement(){function e(){[v("emailCadSent_"+g),v("cadResourceName_"+g),v("cadResourceVersion_"+g)].forEach(function(a){return a.forEach(function(b){f(b.name,"",0)})})}function h(){$(document).on("click",".js-cad-license-agreement",function(a){a.preventDefault();w($(this));B()&&null===k("cad_light_approved")?C.modal("toggle"):x?q.modal("toggle"):D()});$(".accept-license").click(function(a){P(a)});$("#loginRegister").click(function(){n.modal("hide");"undefined"!==typeof t&&""!==
t&&(f("cad_dl",r,7776E5),f("cadResourceName_login_"+g,l,7776E5),f("cadResourceVersion_login_"+g,y,7776E5),window.location.href=t)});$(".start-over-btn").click(function(){f("cadEmail","",0);f("st_cad_download_license_agreement","",0);f("cad_dl","",0);e();f("cad_light_approved","",0);p.modal("hide");C.modal("hide");n.modal("hide");E.modal("hide");window.location.href=window.location.href.split("?")[0]});Q.submit(function(a){a.preventDefault();if(!R($(this)))return!1;S($(this))})}function T(){if("reload"!==
String(window.performance.getEntriesByType("navigation")[0].type)&&"back_forward"!==String(window.performance.getEntriesByType("navigation")[0].type)){var a=(new window.URLSearchParams(window.location.search)).get("dl");null!==a&&null===k("cad_dl")&&f("cad_dl",a,7776E5);if(null!==a){var b=$(".js-cad-license-agreement[data-dl-link-available\x3d'true']");b.length&&w(b);B()&&z(a,null)?f("cad_light_approved","cad_light_approved",7776E5):(a=localStorage.getItem("productName")||g,-1<W3C.CookieFunctions.getCookieWithoutValidation("emailSent_"+
a).indexOf("emailHasBeenSent_"+a)||p.modal("toggle"))}else F&&null!==k("cad_dl")&&null!==k("cadResourceName_login_"+g)&&null!==k("cadResourceVersion_login_"+g)&&($("div[data-nav-tab-id\x3dcad-resources]").click(),a=k("cad_dl"),b=$(".js-cad-license-agreement[data-download-path-encrypted\x3d'"+a+"']"),b.length&&w(b),null!==a&&z(null,a)?(f("cad_dl","",0),f("cadResourceName_login_"+g,"",0),f("cadResourceVersion_login_"+g,"",0)):p.modal("toggle"))}}function U(){G.each(function(){$(this).find(".st-tooltip--content").text(H)});
G.click(function(a){a.preventDefault()})}function v(a){var b=[];document.cookie.split(";").forEach(function(c){var d=$jscomp.makeIterator(c.trim().split("\x3d"));c=d.next().value;d=d.next().value;c.startsWith(a)&&b.push({name:c,value:d})});return b}function S(a){var b=a.serializeArray();b.push({name:"keepInformed",value:!0},{name:"id",value:A},{name:"locale",value:I},{name:"path",value:J},{name:"downloadPathEncrypted",value:r});$.ajax({type:"POST",url:"/bin/st/dl-cad-resource-email",async:!1,data:b}).success(function(c){c&&
!0===c.success?(n.modal("hide"),E.modal("toggle"),f("cadEmail",a.find("#userEmail").val(),7776E5),f("cadResourceName_"+g+"_"+l,l,864E5),f("cadResourceVersion_"+g+"_"+l,y,864E5),f("emailCadSent_"+g+"_"+l,"emailCadHasBeenSent",864E5)):(n.modal("hide"),p.modal("toggle"))}).fail(function(){n.modal("hide");p.modal("toggle")})}function P(a){a.preventDefault();$.ajax({url:"/bin/st/save-license-agreements",async:!0,type:"POST",dataType:"json",data:{resourceType:"CAD",path:q.data("section-path"),version:q.data("license-version"),
versionDate:q.data("license-date"),productId:A}}).complete(function(){q.modal("hide");D()})}function D(){F?z(null,r)||p.modal("toggle"):null===k("cad_light_approved")?n.modal("toggle"):$.ajax({type:"POST",url:"/bin/st/dl-resource-link",async:!1,data:{dl:r}}).success(function(a){a&&K(a)})}function R(a){var b=!0;a.find("input[required]").each(function(c,d){b&&"undefined"!==typeof $(d).attr("data-invalid")&&(b=!1)});return b}function w(a){l=a.data("file-name");y=a.data("file-version");t=a.data("reg-path");
J=a.data("path");x=a.data("license-agreement");r=a.data("download-path-encrypted")}function B(){var a=k("emailCadSent_"+g+"_"+l);return null!==a&&-1<a.indexOf("emailCadHasBeenSent")}function z(a,b){var c={prmisId:A,locale:I};null!==a&&"undefined"!==typeof a&&""!==a&&(c.dl=a);null!==b&&"undefined"!==typeof b&&""!==b&&(c.downloadPathEncrypted=b);if(3>Object.keys(c).length)return!1;c.licenseAgreement=x;return V(c)}function V(a){var b=!1;$.ajax({type:"POST",url:"/bin/st/dl-cad-resource",async:!1,data:a}).success(function(c){c&&
"undefined"!==typeof c.path&&(K(c.path),b=!0)});return b}function W(a){digitalData.sofdlemref=a;u.init.downloadPath=a;u.start.downloadPath=a;$(window).trigger(u.init);$(window).trigger(u.start)}function K(a){function b(){W(a);setTimeout(function(){window.location.href=a},500);STFED.Marketo.resourceDownloadActivity(a,l)}function c(){!getCookieValue.includes("C0002:1")||!getCookieValue.includes("C0004:1")||"undefined"!==typeof _satellite&&void 0!==_satellite._container?b():window.addEventListener("launchPreInit",
function(){b()})}var d,m;(null==(d=window)?0:null==(m=d.STFED)?0:m.trackingOptionsIsDefined)?c():window.addEventListener("product-tracking-initialized",function(){c()})}function f(a,b,c){var d={path:"/"};d.expires=new Date(Date.now()+c);d.domain=window.location.host;d.expires&&d.expires.toUTCString&&(d.expires=d.expires.toUTCString());a=a+"\x3d"+b;for(var m in d)a+="; "+m,b=d[m],!0!==b&&(a+="\x3d"+b);document.cookie=a}function k(a){a=W3C.CookieFunctions.getCookieWithoutValidation(a);return""!=a?a:
null}var G=$(".js-cad-license-agreement"),L=$("#cadLicenseAgreementContainer"),q=$("#cadLicenseAgreementModal"),n=$("#lightRegistrationModal"),Q=n.find(".light-registration-form"),E=$("#registrationSuccessModal"),p=$("#failModal"),C=$("#emailNotValidModal"),F=window.searchUserEmail,A=L.data("product-id"),g=L.data("product-name"),I=document.documentElement.lang.toLowerCase(),l,y,t,J,x,r,M,H,u={init:$.Event("download.init"),start:$.Event("download.start")};(function(){$.ajax({url:"/bin/st/geolocation/ip/restrictions",
type:"POST",data:{type:"CAD_RESOURCE"},async:!1,success:function(a){null!==a&&""!==a&&(a=JSON.parse(a),M=a.ifCountryRestricted,H=a.notAvailableForDownloadText)}})})();!M&&(window.isEuropeGdpr?null!==k("OptanonAlertBoxClosed"):1)?(T(),h()):U();(function(){var a=$("#cadLicenseAgreementContainer #lightRegistrationModal");if(a.length){var b=!1;a.find(".light-registration-form input#givenName, .light-registration-form input#familyName, .light-registration-form input#userEmail").on("focus",function(){var c=
STFED.cookieFactory.get("trackingID");if(!b){b=!0;window.digitalData.event[13]={eventInfo:{eventName:"CAD resources light registration",type:c}};try{var d,m,N,O;_satellite.track("DCDLCad",{eventDetail3:null==(d=digitalData)?void 0:null==(m=d.product)?void 0:null==(N=m[0])?void 0:null==(O=N.productInfo)?void 0:O.productName,step:"second"})}catch(X){return console.log(X),!1}}})}})()};